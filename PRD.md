# Markdown 笔记应用 PRD 文档
## 1. 文档概述
### 1.1 文档目的
本文档详细定义 Markdown 笔记应用的产品需求，明确产品功能、交互逻辑、界面设计及技术要求，作为开发、测试、设计的核心依据。
### 1.2 产品定位
一款轻量级、本地化的 Markdown 笔记应用，聚焦「即时编辑-实时预览」核心体验，支持笔记管理、语法高亮、PDF/Markdown 导出，数据本地存储，满足用户快速记录、编辑 Markdown 笔记的需求，对标 Typora 核心交互体验。
### 1.3 目标用户
- 程序员、写作者等高频使用 Markdown 的人群
- 追求轻量化、本地化存储，无需云端同步的笔记用户
- 需要快速预览 Markdown 效果、导出 PDF/原文件的用户

## 2. 核心功能需求
### 2.1 笔记基础管理
| 功能点 | 详细需求 | 优先级 |
|--------|----------|--------|
| 创建笔记 | 点击「新建笔记」按钮，生成空白笔记，自动填充默认标题（如「未命名笔记-时间戳」），默认进入编辑状态 | 高 |
| 保存笔记 | 1. 编辑内容时自动保存至 localStorage；<br>2. 手动点击「保存」按钮可强制保存；<br>3. 保存内容包含：笔记 ID、标题、内容、创建时间、更新时间 | 高 |
| 删除笔记 | 1. 笔记列表页点击「删除」按钮，弹出确认弹窗；<br>2. 确认后删除 localStorage 中对应笔记数据；<br>3. 删除后不可恢复 | 高 |
| 笔记列表展示 | 左侧区域展示所有笔记，按「更新时间倒序」排列，每条笔记显示标题、最后更新时间 | 高 |
| 笔记搜索 | 1. 左侧列表顶部提供搜索框；<br>2. 输入关键词实时筛选笔记（匹配标题/内容）；<br>3. 无匹配结果时显示「暂无匹配笔记」提示 | 中 |

### 2.2 Markdown 编辑与预览
| 功能点 | 详细需求 | 优先级 |
|--------|----------|--------|
| 三栏布局 | 1. 页面主体分为左、中、右三栏；<br>2. 左栏：笔记列表+搜索；中栏：Markdown 编辑器；右栏：预览区；<br>3. 分栏比例支持默认（左:中:右 = 1:2:2），不支持手动调整 | 高 |
| 编辑器功能 | 1. 支持标题（H1-H6）、列表（有序/无序）、链接、图片、粗体/斜体等基础 Markdown 语法输入；<br>2. 代码块输入时自动识别语言（或手动选择），支持语法高亮；<br>3. 编辑器支持基本快捷键（如 Ctrl+B 粗体、Ctrl+I 斜体） | 高 |
| 实时预览 | 1. 编辑器输入内容时，右侧预览区实时渲染 Markdown 效果；<br>2. 预览区代码块保持语法高亮，格式与编辑器输入一致；<br>3. 预览区仅展示内容，不支持编辑 | 高 |

### 2.3 数据存储
| 功能点 | 详细需求 | 优先级 |
|--------|----------|--------|
| 本地化存储 | 1. 所有笔记数据存储在浏览器 localStorage 中；<br>2. 存储结构：以数组形式存储笔记对象，每个对象包含 `id`（唯一标识）、`title`（标题）、`content`（内容）、`createTime`（创建时间）、`updateTime`（更新时间）；<br>3. 限制：仅受浏览器 localStorage 容量限制（通常 5MB），无额外存储限制 | 高 |
| 数据持久化 | 关闭浏览器/刷新页面后，重新打开应用可加载 localStorage 中所有笔记数据 | 高 |

### 2.4 导出功能
| 功能点 | 详细需求 | 优先级 |
|--------|----------|--------|
| PDF 导出 | 1. 编辑/预览状态下，点击「导出 PDF」按钮，将当前笔记的预览内容导出为 PDF；<br>2. PDF 格式要求：<br>   - 保留 Markdown 渲染后的格式（标题层级、列表、代码块高亮）；<br>   - PDF 文件名默认使用笔记标题，支持自定义；<br>   - 导出的 PDF 排版整洁，无多余水印/广告 | 中 |
| Markdown 导出 | 1. 编辑状态下，点击「导出 Markdown」按钮，将当前笔记的原始 Markdown 文本导出为 `.md` 格式文件；<br>2. 导出要求：<br>   - 保留原始 Markdown 语法，无格式篡改；<br>   - 文件名默认使用笔记标题，支持自定义；<br>   - 导出文件可直接在其他 Markdown 编辑器（如 Typora、VS Code）中正常打开 | 中 |

## 3. 非功能需求
### 3.1 性能需求
- 笔记列表加载：≤ 300ms（笔记数量 ≤ 50 条时）
- 编辑实时预览：输入内容后，预览区渲染延迟 ≤ 100ms
- 导出功能：<br>  - Markdown 导出：耗时 ≤ 500ms；<br>  - PDF 导出：单篇笔记（内容 ≤ 5000 字）导出耗时 ≤ 3s

### 3.2 兼容性需求
| 浏览器 | 版本要求 | 支持程度 |
|--------|----------|----------|
| Chrome | ≥ 80 | 完全支持 |
| Firefox | ≥ 75 | 完全支持 |
| Edge | ≥ 80 | 完全支持 |
| Safari | ≥ 14 | 基本支持（PDF 导出功能需验证） |
| 移动端浏览器 | - | 不支持 |

### 3.3 易用性需求
- 界面简洁：无冗余按钮/广告，核心功能（新建、保存、删除、导出）一目了然
- 操作逻辑：符合用户使用习惯（如新建笔记默认编辑、删除需确认）
- 提示友好：操作成功/失败（如保存成功、删除确认、导出完成）提供清晰的 Toast/弹窗提示

### 3.4 安全性需求
- 数据仅存储在本地 localStorage，无云端传输，保障用户数据隐私
- 无用户登录/注册流程，无需收集任何个人信息

## 4. 界面原型说明
### 4.1 整体布局
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ 顶部导航栏：应用名称 + 新建笔记 + 导出 PDF + 导出 Markdown + 搜索框          │
├───────────────┬────────────────────────┬───────────────────────────────────┤
│ 左侧区域      │ 中间区域               │ 右侧区域                          │
│ 1. 笔记列表   │ 1. Markdown 编辑器     │ 1. Markdown 预览区                │
│ 2. 笔记搜索   │ 2. 基础编辑快捷键提示  │ 2. 渲染后的完整内容               │
│ 3. 笔记删除按钮│ 3. 实时输入反馈        │ 3. 代码块语法高亮展示             │
└───────────────┴────────────────────────┴───────────────────────────────────┘
```
### 4.2 核心区域说明
- 顶部导航栏：包含应用名称（如「MarkNote」）、「新建笔记」按钮、「导出 PDF」按钮、「导出 Markdown」按钮、搜索框；
- 左侧区域：
  - 笔记列表：展示所有笔记标题+更新时间，点击笔记可加载至中间编辑器+右侧预览区；
  - 笔记搜索：顶部搜索框，支持实时筛选；
  - 笔记删除按钮：每条笔记右侧显示「删除」按钮，点击触发确认弹窗；
- 中间区域：
  - 纯文本 Markdown 编辑器，支持所有基础 Markdown 语法输入，代码块区域有语法高亮提示；
  - 底部可展示常用快捷键提示（如 Ctrl+B 粗体、Ctrl+I 斜体），可选显示/隐藏；
- 右侧区域：
  - 仅展示 Markdown 渲染后的效果，与中间编辑器内容实时同步；
  - 代码块保持语法高亮，标题、列表、链接等格式与标准 Markdown 渲染效果一致；
  - 纯展示区域，无任何编辑功能。

## 6. 验收标准
### 6.1 功能验收
1. 笔记管理：可新建/删除笔记，列表按更新时间排序，搜索可精准匹配标题/内容；
2. 编辑预览：三栏布局清晰，输入 Markdown 语法后右侧预览区实时渲染，代码块有语法高亮；
3. 数据存储：刷新/关闭浏览器后，笔记数据不丢失；
4. 导出功能：
   - 点击「导出 PDF」可生成包含渲染后内容的 PDF 文件，格式与预览区一致；
   - 点击「导出 Markdown」可生成 `.md` 格式文件，保留原始 Markdown 语法，无格式篡改；
5. 交互体验：删除笔记有确认弹窗，导出操作完成后有明确的成功提示。

### 6.2 体验验收
1. 操作无明显卡顿，预览渲染延迟 ≤ 100ms；
2. Markdown 导出耗时 ≤ 500ms，PDF 导出（5000 字内）耗时 ≤ 3s；
3. 界面布局清晰，三栏比例合理，核心功能按钮位置符合用户习惯；
4. 导出的 `.md` 文件可在 Typora、VS Code 等主流编辑器中正常打开且格式无误。